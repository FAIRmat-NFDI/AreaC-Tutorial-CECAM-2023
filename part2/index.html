
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="FAIRmat Area C tutorial 10.
">
      
      
        <meta name="author" content="FAIRmat consortium">
      
      
      
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.2">
    
    
      
        <title>Part II: How to make an upload and query data in NOMAD. - NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d451bc0e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Titillium Web";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-ii-how-to-make-an-upload-and-query-data-in-nomad" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23" class="md-header__button md-logo" aria-label="NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23" data-md-component="logo">
      
  <img src="../assets/nomad-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part II: How to make an upload and query data in NOMAD.
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_2">
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23" class="md-nav__button md-logo" aria-label="NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23" data-md-component="logo">
      
  <img src="../assets/nomad-logo.png" alt="logo">

    </a>
    NOMAD (FAIRmat) Tutorial - CECAM workshop 29.09.23
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part I - Exploring NOMAD
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorial-2_Overview_Page_and_Worfklow_Visualizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part II - Overview page and workflows
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorial-1_Uploading_MD_Data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part III - Uploading data to NOMAD
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorial-3_Extracting_Data_and_Trajectory_Analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part IV - Working with the NOMAD archive
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Advanced/part4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating custom workflows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Advanced/Upload_API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using python API for uploading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Advanced/AI_toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The AI toolkit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#uploading-computational-data-to-nomad" class="md-nav__link">
    Uploading computational data to NOMAD
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#browsing-entries" class="md-nav__link">
    Browsing entries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querying-nomad-data" class="md-nav__link">
    Querying NOMAD data
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="part-ii-how-to-make-an-upload-and-query-data-in-nomad">Part II: How to make an upload and query data in NOMAD.<a class="headerlink" href="#part-ii-how-to-make-an-upload-and-query-data-in-nomad" title="Permanent link">&para;</a></h1>
<p>This part contains the information on how to make an upload with computational data in NOMAD, how to browse through the parsed metadata, and how to use API calls to query data in NOMAD for analysis. We will use an example dataset for a DFT+GW calculation for Si<sub>2</sub>. Similar to the <a href="../part1/">Part I</a>, a more general tutorial can be found in the <a href="https://www.fairmat-nfdi.eu/events/fairmat-tutorial-1/tutorial-1-home">FAIRmat tutorial 1</a> and the materials therein.</p>
<p>You can find this example data by searching certain parameters, as shown at the end of <a href="../part1/">Part I</a>. You can download the example data files when browsing to the specific entry. The <em>upload id</em> of the example used in this tutorial is <a href="https://nomad-lab.eu/prod/v1/staging/gui/search/entries/entry/id/ZmJ0UaVCIedx0EdqCMpPnSuXjorZ/files/">9FVTPztzTdGNVSEbc4QbXg</a>.</p>
<h2 id="uploading-computational-data-to-nomad">Uploading computational data to NOMAD<a class="headerlink" href="#uploading-computational-data-to-nomad" title="Permanent link">&para;</a></h2>
<p>Go to the <a href="https://nomad-lab.eu/prod/v1/staging/gui/search/entries">NOMAD Entries page</a>, and click on the top-left menu "Publish &gt; Uploads". </p>
<div class="click-zoom">
    <label>
        <input type="checkbox">
        <img src="../assets/part2_upload/upload1.png" alt="Uploads page 1" width="90%" title="Uploads page.">
    </label>
</div>

<p>You can then click on "Create a new upload" button, or even try one of the examples in "Add example uploads". The page for creating a new upload allows you to upload, edit author metadata, and publish your data with an embargo. The system works by a drag-and-drop files system. For this tutorial, you are going to learn how to upload and explore the metadata of a DFT + GW calculation done by the code <a href="https://exciting-code.org/"><em>exciting</em></a>. </p>
<div class="click-zoom">
    <label>
        <input type="checkbox">
        <img src="../assets/part2_upload/gwupload.gif" alt="GW upload gif" width="90%" title="Creating a new upload with DFT+GW data.">
    </label>
</div>

<h2 id="browsing-entries">Browsing entries<a class="headerlink" href="#browsing-entries" title="Permanent link">&para;</a></h2>
<p>As you can see in the GIF, after we drag-and-drop the zipped files a processing starts. NOMAD will try to find the corresponding parsers, and if succesful, new entries are generated. In this example, you are uploading a DFT + GW calculation for which three entries are generated: <code>DFT SinglePoint</code>, <code>GW SinglePoint</code>, and <code>GW</code>. You can later visit the <a href="part4.md">Part IV</a> to learn more, but for now is enough to know that NOMAD differentiates between the DFT part, the GW part, and then combines both in what is called the <code>GW workflow</code> entry. This last one is the one containing the combined meta-information of DFT and GW, and thus, it is the most general entry of all three.GW upload gi</p>
<p>You can browse each entry by clicking on right arrow <code>â†’</code>. You will land in the Overview page of the entry, which contains basic information and visualizations for the entry.</p>
<div class="click-zoom">
    <label>
        <input type="checkbox">
        <img src="../assets/part2_upload/overview.png" alt="Entry overview" width="90%" title="DFT+GW entry overview page.">
    </label>
</div>

<p>Extra visualizations, such as the <em>Electronic properties</em> or the <em>Workflow graph</em> will appear depending on the character of the entry (for example, a Molecular Dynamics calculation will not contain <em>Electronic properties</em> but rather <em>Thermodynamic properties</em> and <em>Trajectories</em> visualizations, see <a href="https://www.fairmat-nfdi.eu/events/fairmat-tutorial-7/tutorial-7-home">FAIRmat tutorial 7</a>).</p>
<p align="center">
    <img src="../assets/part2_upload/electronicproperties.png" alt="Electronic properties" width="40%" title="Electronic properties card.">
    <img src="../assets/part2_upload/workflowgraph.png" alt="Workflow graph" width="40%" title="Workflow graph card.">
</p>

<p>Besides Overview, there are also other menus: "FILES", a list of all the files present in the entry folder, "DATA", the populated metadata sections and quantities, and "LOGS", a list of logging success, warnings and errors. In the "DATA" menu, you can browse through the specifically populated NOMAD metainfo definitions.</p>
<div class="click-zoom">
    <label>
        <input type="checkbox">
        <img src="../assets/part2_upload/datatab.png" alt="Metadata entry menu" width="90%" title="DFT+GW entry data page.">
    </label>
</div>

<p>A computational data entry in NOMAD will be composed of the following sections:</p>
<ol>
<li><strong><code>metadata</code></strong>: contains general meta-information about the entry, such as author, upload time, upload id, etc.</li>
<li><strong><code>run</code></strong>: contains all the parsed data from a computational simulation. It divided in four main subsections: <code>program</code> which contains meta-information about the program (name, version...), <code>system</code> which contains meta-information about the system or material for which the calculation was performed (atom positions, symmetry...), <code>method</code> which contains meta-information about the input methodological parameters used in the simulation, and <code>calculation</code> which contains all the output quantities.</li>
<li><strong><code>workflow2</code></strong>: contains all the information on the workflow, such as tasks, inputs, outputs, etc. You can learn more in detail about it in <a href="part4.md">Part IV</a>.</li>
<li><strong><code>results</code></strong>: contains a set of references to <code>run</code> and <code>workflow2</code> that are then shown in the GUI for visualization and exploration purposes.</li>
</ol>
<h2 id="querying-nomad-data">Querying NOMAD data<a class="headerlink" href="#querying-nomad-data" title="Permanent link">&para;</a></h2>
<p>In this section, you can learn about how to query processed data in NOMAD by using the Jupyter Notebook prepared specifically to find this entry. This can be found <a href="https://cloud.nomad-lab.eu/ai-toolkit/workshop">here</a>. Select "FAIRmat Tutorial 10" and click "Start".</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.footer"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": 0.1}</script>
    
    
      <script src="../assets/javascripts/bundle.726fbb30.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
      
        <script src="https://unpkg.com/cytoscape@3.19.1/dist/cytoscape.min.js"></script>
      
        <script src="../assets/custom.js"></script>
      
        <script src="../javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>